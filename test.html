<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Spellcheck</title>

    <script src="libraries/p5.js" type="text/javascript"></script>
    <script src="libraries/p5.dom.js" type="text/javascript"></script>
    <script src="sketch.js" type="text/javascript"></script>

    <style>
      body {
        padding: 20px;
      }
    </style>

  </head>
  <body>

    <h1>Sentiment Analysis</h1>

    <h2>Add word</h2>
    <p>
      word: <input value="word" id="word"></input></br>
      score: <input value="0" id="score"></input>
    </p>
    <p>
      <button id="scoreit">submit</button>
    </p>


    <h2>Analyze</h2>

    <p>
      <textarea id="text" cols="50" rows="10">I am feeling very happy today.</textarea>
    </p>
    <p>
      <button id="analyze">analyze</button>
    </p>

    <p id="scoreresult"></p>
    <p id="comparative"></p>
    <p id="negative"></p>
    <p id="positive"></p>

    <script>

// getData();
// async function getData() {
//   const response = await fetch('SentiWS_v2.0_Negative.txt');
//   const data = await response.text();
//   var allwords =[];
//   const rows= data.split('\n');
//   var words1=[];
//   rows.forEach(elt => {
//     var words1=[];
//     const row= elt.split('	');
//     //const row2= elt.split(',');
//     //const row= elt.replace('|NN', ' ');
    
//     words1[0] = row[0];
//     words1[1] = row[1];
//     allwords.push(words1);
//     const rows2= row[2].split(',');
    
    
//     //rows2.forEach(elt => {
//     for (var i = 0; i < rows2.length; i++){ 
//     var otherwords=[];
//     otherwords[0] = rows2[i];
//     otherwords[1] = row[1];
//     allwords.push(otherwords);
    
    
//      }
//   //});
  
//   });
//   console.log(allwords); 
// }



getData();
async function getData() {
  const response = await fetch('SentiWS_v2.0_Positive.txt');
  const data = await response.text();
  var allwords ={};
  const rows= data.split('\n');
  var words1=[];
  rows.forEach(elt => {
    var words1=[];
    const row= elt.split('	');
    //const row2= elt.split(',');
    //const row= elt.replace('|NN', ' ');
    
    words1[0] = row[0].substring(0,(row[0].indexOf('|')));
    words1[1] = row[1];
    allwords[words1[0]]= words1[1];
    if ((row[2].indexOf(',')) > 1) {
      const rows2= row[2].split(',');
     //console.log(rows2);
     for (var i = 0; i < rows2.length; i++){ 
    var otherwords=[];
    otherwords[0] = rows2[i];
    otherwords[1] = row[1];
    allwords[otherwords[0]]= otherwords[1]
    
    
     }

      }
    else if (row[2] = ''){}
    else {
    otherwords[0] =row[2];
    otherwords[1] = row[1];
    allwords[otherwords[0]]= otherwords[1]
    }
    
     
    
  
   
    
    
    
  //});
  
  });
  console.log(allwords); 
  //save(allwords,'allowrds.json')
}


// var table;
// preload();
// function preload() {

//   table = loadTable('SentiWS_v2.0_Negative.txt');
//   //console.log(table);
// }

// function setup() {

//   noCanvas();
//   console.log(table);
// }


    </script>

  </body>
</html>


